# miniprogram/utils ç›®å½•

æ­¤ç›®å½•åŒ…å«å¾®ä¿¡å°ç¨‹åºçš„æ ¸å¿ƒå·¥å…·å’Œç»Ÿä¸€é…ç½®æ–‡ä»¶ï¼Œå®ç°äº†å®Œæ•´çš„é…ç½®åŒ–æ¶æ„ï¼Œæ”¯æŒå¤šä¸»é¢˜åˆ‡æ¢å’Œå…¨å±€æ–‡å­—ç®¡ç†ã€‚

## æ–‡ä»¶è¯´æ˜

- **config.js**: ç»Ÿä¸€çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œæ•´åˆäº†æ–‡å­—é…ç½®å’Œé—®å·é…ç½®ï¼Œæ˜¯é¡¹ç›®é…ç½®åŒ–æ¶æ„çš„æ ¸å¿ƒæ–‡ä»¶ã€‚

## é…ç½®åŒ–æ¶æ„ç‰¹æ€§

### ğŸ¨ å¤šä¸»é¢˜æ”¯æŒ
- **ä¸»é¢˜åˆ‡æ¢**: é€šè¿‡ä¿®æ”¹ `currentTheme` å­—æ®µå®ç°ä¸€é”®ä¸»é¢˜åˆ‡æ¢
- **ä¸»é¢˜éš”ç¦»**: æ¯ä¸ªä¸»é¢˜æ‹¥æœ‰ç‹¬ç«‹çš„æ–‡å­—é…ç½®å’ŒUIæ ·å¼
- **é¢„è®¾ä¸»é¢˜**: 
  - `union-digital-life`: Unionæ•°å­—ç”Ÿæ´»ç¤¾ç¾¤ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰
  - `workplace-skills`: èŒåœºæŠ€èƒ½æˆé•¿ç¤¾ç¾¤ä¸»é¢˜

### ğŸ”§ ç»Ÿä¸€é…ç½®ç®¡ç†
- **æ–‡å­—é…ç½®**: æ‰€æœ‰é¡µé¢çš„æ–‡å­—å†…å®¹ç»Ÿä¸€ç®¡ç†ï¼Œæ”¯æŒå˜é‡æ›¿æ¢
- **é—®å·é…ç½®**: å®Œæ•´çš„é—®å·æ­¥éª¤ã€å­—æ®µã€éªŒè¯è§„åˆ™é…ç½®
- **UIé…ç½®**: åº”ç”¨åç§°ã€æè¿°ã€æŒ‰é’®æ–‡å­—ç­‰ç•Œé¢å…ƒç´ é…ç½®

### ğŸ“± é¡µé¢çº§é…ç½®
- **ç™»å½•é¡µé¢**: æ¬¢è¿æ–‡å­—ã€æŒ‰é’®æ–‡å­—ã€å¤´åƒä¸Šä¼ æç¤ºç­‰
- **é—®å·é¡µé¢**: æ­¥éª¤æ ¼å¼ã€æŒ‰é’®æ–‡å­—ã€éªŒè¯æ¶ˆæ¯ç­‰
- **ç¤¾ç¾¤æŠ¥å‘Šé¡µé¢**: æ ‡é¢˜ã€æˆå‘˜ç»Ÿè®¡ã€å¼¹çª—æ–‡å­—ç­‰
- **ç¤¾äº¤è¿æ¥é¡µé¢**: æœç´¢æç¤ºã€åŠ è½½çŠ¶æ€ã€é…å¯¹æ–‡å­—ç­‰

## æ ¸å¿ƒAPI

### é…ç½®è·å–
```javascript
const Config = require('./config.js');

// è·å–å½“å‰ä¸»é¢˜çš„å®Œæ•´é…ç½®
const themeConfig = Config.getCurrentThemeConfig();

// è·å–ç‰¹å®šè·¯å¾„çš„æ–‡å­—ï¼ˆæ”¯æŒå˜é‡æ›¿æ¢ï¼‰
const text = Config.getText('briefing.members.joined', { count: 5 });
// ç»“æœ: "5äººå·²åŠ å…¥"

// æ‰¹é‡è·å–å¤šä¸ªæ–‡å­—é…ç½®
const texts = Config.getTexts([
  'login.welcomeTitle',
  'questionnaire.buttons.next',
  'common.loading'
]);
```

### ä¸»é¢˜ç®¡ç†
```javascript
// åˆ‡æ¢ä¸»é¢˜
Config.setTheme('workplace-skills');

// è·å–å¯ç”¨ä¸»é¢˜åˆ—è¡¨
const themes = Config.getAvailableThemes();

// è·å–ä¸»é¢˜ä¿¡æ¯
const themeInfo = Config.getThemeInfo('union-digital-life');
```

### é—®å·é…ç½®
```javascript
// è·å–é—®å·é…ç½®
const questionnaireConfig = Config.questionnaireConfig;

// è·å–ç‰¹å®šæ­¥éª¤é…ç½®
const step1 = questionnaireConfig.steps[0];

// è·å–å­—æ®µéªŒè¯è§„åˆ™
const fields = questionnaireConfig.fields;
```

## å˜é‡æ›¿æ¢åŠŸèƒ½

é…ç½®æ”¯æŒåŠ¨æ€å˜é‡æ›¿æ¢ï¼Œä½¿ç”¨ `{å˜é‡å}` æ ¼å¼ï¼š

```javascript
// é…ç½®ç¤ºä¾‹
briefing: {
  members: {
    joined: '{count}äººå·²åŠ å…¥',
    totalMembers: 'å…±{count}äºº'
  }
}

// ä½¿ç”¨ç¤ºä¾‹
Config.getText('briefing.members.joined', { count: 10 });
// ç»“æœ: "10äººå·²åŠ å…¥"
```

## é…ç½®æ–‡ä»¶ç»“æ„

### ä¸»é…ç½®å¯¹è±¡
```javascript
const Config = {
  currentTheme: 'union-digital-life',
  themes: {
    'theme-name': {
      app: { /* åº”ç”¨åŸºç¡€ä¿¡æ¯ */ },
      login: { /* ç™»å½•é¡µé¢é…ç½® */ },
      questionnaire: { /* é—®å·é¡µé¢é…ç½® */ },
      briefing: { /* ç¤¾ç¾¤æŠ¥å‘Šé¡µé¢é…ç½® */ },
      connect: { /* ç¤¾äº¤è¿æ¥é¡µé¢é…ç½® */ },
      common: { /* é€šç”¨æ–‡å­—é…ç½® */ }
    }
  },
  questionnaireConfig: { /* é—®å·é…ç½® */ }
}
```

### é—®å·é…ç½®ç»“æ„
```javascript
questionnaireConfig: {
  meta: {
    title: 'é—®å·æ ‡é¢˜',
    description: 'é—®å·æè¿°',
    totalSteps: 8,
    theme: 'union-digital-life'
  },
  fields: { /* å­—æ®µå®šä¹‰å’ŒéªŒè¯è§„åˆ™ */ },
  steps: [ /* æ­¥éª¤é…ç½® */ ],
  validation: { /* éªŒè¯é…ç½® */ }
}
```

## é¡µé¢é›†æˆç¤ºä¾‹

### é¡µé¢ä¸­ä½¿ç”¨é…ç½®
```javascript
// pages/index/index.js
const Config = require('../../utils/config.js');

Page({
  data: {
    texts: {}, // å­˜å‚¨é¡µé¢æ–‡å­—é…ç½®
    questionnaireConfig: Config.questionnaireConfig
  },

  onLoad() {
    // åŠ è½½é¡µé¢æ–‡å­—é…ç½®
    this.loadTexts();
  },

  loadTexts() {
    const texts = Config.getTexts([
      'login.welcomeTitle',
      'questionnaire.buttons.next',
      'questionnaire.messages.loginRequired'
    ]);
    this.setData({ texts });
  }
});
```

### WXMLä¸­ä½¿ç”¨æ–‡å­—é…ç½®
```xml
<!-- ä½¿ç”¨é…ç½®çš„æ–‡å­— -->
<text>{{texts.welcomeTitle}}</text>
<button>{{texts.nextButton}}</button>

<!-- ä½¿ç”¨å˜é‡æ›¿æ¢ -->
<text>{{texts.stepFormat}}</text> <!-- åœ¨JSä¸­å¤„ç†å˜é‡æ›¿æ¢ -->
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ä¸»é¢˜
1. åœ¨ `themes` å¯¹è±¡ä¸­æ·»åŠ æ–°ä¸»é¢˜é…ç½®
2. å¤åˆ¶ç°æœ‰ä¸»é¢˜ç»“æ„å¹¶ä¿®æ”¹æ–‡å­—å†…å®¹
3. æ›´æ–° `currentTheme` æˆ–é€šè¿‡APIåˆ‡æ¢

### æ·»åŠ æ–°é¡µé¢é…ç½®
1. åœ¨ä¸»é¢˜é…ç½®ä¸­æ·»åŠ æ–°é¡µé¢çš„é…ç½®å¯¹è±¡
2. å®šä¹‰é¡µé¢æ‰€éœ€çš„æ‰€æœ‰æ–‡å­—å†…å®¹
3. åœ¨é¡µé¢ä¸­å¼•å…¥å¹¶ä½¿ç”¨é…ç½®

### æ‰©å±•é—®å·é…ç½®
1. åœ¨ `questionnaireConfig.fields` ä¸­å®šä¹‰æ–°å­—æ®µ
2. åœ¨ `questionnaireConfig.steps` ä¸­æ·»åŠ æ–°é—®é¢˜
3. æ›´æ–° `meta.totalSteps` æ•°é‡

## æœ€ä½³å®è·µ

- **ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰æ–‡å­—å†…å®¹éƒ½åº”è¯¥é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ï¼Œé¿å…ç¡¬ç¼–ç 
- **ä¸»é¢˜ä¸€è‡´æ€§**: ç¡®ä¿æ‰€æœ‰ä¸»é¢˜çš„é…ç½®ç»“æ„å®Œå…¨ä¸€è‡´
- **å˜é‡å‘½å**: ä½¿ç”¨æ¸…æ™°çš„å˜é‡åï¼Œä¾¿äºç†è§£å’Œç»´æŠ¤
- **ç¼“å­˜ä¼˜åŒ–**: åœ¨é¡µé¢ä¸­ç¼“å­˜å¸¸ç”¨çš„æ–‡å­—é…ç½®ï¼Œé¿å…é‡å¤è°ƒç”¨
- **é”™è¯¯å¤„ç†**: ä¸ºé…ç½®è·å–æ·»åŠ é»˜è®¤å€¼å’Œé”™è¯¯å¤„ç†é€»è¾‘

---

**æ›´æ–°æ—¥æœŸ**: 2024å¹´12æœˆ  
**ç‰ˆæœ¬**: v2.0.0 - ç»Ÿä¸€é…ç½®æ¶æ„  
**é‡è¦å˜æ›´**: æ•´åˆæ–‡å­—é…ç½®å’Œé—®å·é…ç½®ï¼Œå®ç°å®Œå…¨é…ç½®åŒ–çš„å¤šä¸»é¢˜æ¶æ„ 