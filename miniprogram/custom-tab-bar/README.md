# UnionLink è‡ªå®šä¹‰å¯¼èˆªæ ç»„ä»¶

ç°ä»£åŒ–çš„å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰TabBarç»„ä»¶ï¼Œä¸ºUnionLinkç¤¾äº¤åœˆå°ç¨‹åºæä¾›ä¼˜é›…çš„åº•éƒ¨å¯¼èˆªä½“éªŒã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **ä¸‰ä¸ªä¸»è¦é¡µé¢å¯¼èˆª**ï¼šå¥½å‹åˆ—è¡¨ã€è®¾å¤‡ã€ä¸»é¡µï¼ˆè°ƒæ•´åçš„é¡ºåºï¼‰
- âœ… **é¡µé¢çŠ¶æ€åŒæ­¥**ï¼šè‡ªåŠ¨ä¸å½“å‰é¡µé¢çŠ¶æ€ä¿æŒä¸€è‡´
- âœ… **æµç•…åˆ‡æ¢åŠ¨ç”»**ï¼š0.3ç§’å¹³æ»‘è¿‡æ¸¡æ•ˆæœ
- âœ… **ç‚¹å‡»åé¦ˆ**ï¼šå³æ—¶çš„è§†è§‰å’Œäº¤äº’åé¦ˆ

### è®¾è®¡ç‰¹ç‚¹
- ğŸ¨ **æç®€é»‘è‰²ä¸»é¢˜**ï¼šä¸åº”ç”¨æ•´ä½“é£æ ¼ä¿æŒä¸€è‡´
- ğŸ“± **ç°ä»£åŒ–ç•Œé¢**ï¼šç®€æ´ä¼˜é›…çš„è§†è§‰è®¾è®¡
- ğŸ”¤ **ä¼˜åŒ–å­—ä½“**ï¼š24rpxå­—ä½“å¤§å°ï¼Œä¿è¯å¯è¯»æ€§
- âš¡ **é«˜æ€§èƒ½**ï¼šè½»é‡çº§å®ç°ï¼Œæµç•…çš„ç”¨æˆ·ä½“éªŒ

## ğŸ“ æ–‡ä»¶ç»“æ„

```
custom-tab-bar/
â”œâ”€â”€ index.js         # ç»„ä»¶é€»è¾‘ä»£ç 
â”œâ”€â”€ index.wxss       # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ index.wxml       # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ index.json       # ç»„ä»¶é…ç½®
â””â”€â”€ README.md        # è¯´æ˜æ–‡æ¡£
```

## ğŸ¯ é¡µé¢é…ç½®

### å¯¼èˆªé¡µé¢åˆ—è¡¨ï¼ˆé‡æ„åçš„é¡ºåºï¼‰
| ç´¢å¼• | é¡µé¢è·¯å¾„ | æ˜¾ç¤ºæ–‡æœ¬ | åŠŸèƒ½æè¿° |
|------|----------|----------|----------|
| 0 | `pages/connect/connect` | å¥½å‹åˆ—è¡¨ | å¥½å‹ç®¡ç†å’Œç¤¾äº¤è¿æ¥ä¸­å¿ƒ |
| 1 | `pages/device/device` | è®¾å¤‡ | è®¾å¤‡ç®¡ç†å’Œè¿æ¥çŠ¶æ€ |
| 2 | `pages/index/index` | ä¸»é¡µ | ä¸ªäººèµ„æ–™å’ŒåŠŸèƒ½å…¥å£ï¼ˆç§»è‡³æœ€å³ï¼‰ |

**æ³¨æ„**: briefingé¡µé¢å·²ä»å¯¼èˆªæ ç§»é™¤ï¼Œæ”¹ä¸ºé€šè¿‡connecté¡µé¢æœç´¢æ¡†è¿›å…¥

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæ•°æ®ç»“æ„
```javascript
data: {
  selected: 0,  // å½“å‰é€‰ä¸­çš„æ ‡ç­¾ç´¢å¼• (0-2)
  list: [       // å¯¼èˆªé…ç½®æ•°ç»„ï¼ˆé‡æ„åï¼‰
    {
      pagePath: "pages/connect/connect",
      text: "å¥½å‹åˆ—è¡¨"
    },
    {
      pagePath: "pages/device/device", 
      text: "è®¾å¤‡"
    },
    {
      pagePath: "pages/index/index",
      text: "ä¸»é¡µ"
    }
  ]
}
```

### ä¸»è¦æ–¹æ³•
- `switchTab(e)`: å¤„ç†æ ‡ç­¾åˆ‡æ¢é€»è¾‘
- è‡ªåŠ¨çŠ¶æ€åŒæ­¥ï¼šä¸`app.globalData.tabBar.selected`ä¿æŒä¸€è‡´

## ğŸ¨ æ ·å¼è®¾è®¡

### å¸ƒå±€ç‰¹ç‚¹
- **å›ºå®šåº•éƒ¨å®šä½**ï¼š`position: fixed; bottom: 0`
- **å…¨å®½åº¦æ˜¾ç¤º**ï¼š`left: 0; right: 0`
- **å®‰å…¨åŒºåŸŸé€‚é…**ï¼š`padding-bottom: env(safe-area-inset-bottom)`
- **é«˜å±‚çº§æ˜¾ç¤º**ï¼š`z-index: 999`

### è§†è§‰å…ƒç´ 
```css
/* ä¸»å®¹å™¨ */
.tab-bar {
  height: 96rpx;           /* æ ‡å‡†TabBaré«˜åº¦ */
  background: #000000;     /* çº¯é»‘è‰²èƒŒæ™¯ */
  display: flex;           /* å¼¹æ€§å¸ƒå±€ */
}

/* é¡¶éƒ¨åˆ†å‰²çº¿ */
.tab-bar-border {
  height: 1rpx;
  background: rgba(255, 255, 255, 0.1);  /* åŠé€æ˜ç™½è‰² */
}

/* æ ‡ç­¾é¡¹ */
.tab-bar-item {
  flex: 1;                 /* ç­‰å®½åˆ†å¸ƒ */
  text-align: center;      /* æ–‡å­—å±…ä¸­ */
}

/* æ–‡å­—æ ·å¼ */
.tab-bar-item-text {
  font-size: 24rpx;        /* é€‚ä¸­çš„å­—ä½“å¤§å° */
  color: #8a8a8a;          /* æœªé€‰ä¸­ï¼šç°è‰² */
  transition: color 0.3s ease;  /* é¢œè‰²è¿‡æ¸¡åŠ¨ç”» */
}

/* é€‰ä¸­çŠ¶æ€ */
.tab-bar-item-text.selected {
  color: #ffffff;          /* é€‰ä¸­ï¼šç™½è‰² */
  font-weight: bold;       /* é€‰ä¸­ï¼šåŠ ç²— */
}
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. åœ¨app.jsonä¸­é…ç½®
```json
{
  "tabBar": {
    "custom": true,
    "list": [
      {
        "pagePath": "pages/index/index",
        "text": "ä¸»é¡µ"
      },
      {
        "pagePath": "pages/connect/connect", 
        "text": "å¥½å‹åˆ—è¡¨"
      },
      {
        "pagePath": "pages/briefing/briefing",
        "text": "æŠ¥å‘Š"
      },
      {
        "pagePath": "pages/device/device",
        "text": "è®¾å¤‡"
      }
    ]
  }
}
```

### 2. åœ¨å„é¡µé¢ä¸­åŒæ­¥çŠ¶æ€
```javascript
// åœ¨æ¯ä¸ªTabBaré¡µé¢çš„onShowç”Ÿå‘½å‘¨æœŸä¸­æ·»åŠ 
onShow() {
  // æ›´æ–°TabBaré€‰ä¸­çŠ¶æ€
  const tabBar = this.getTabBar();
  if (tabBar) {
    tabBar.setData({
      selected: 0  // å¯¹åº”é¡µé¢çš„ç´¢å¼•å€¼
    });
  }
  
  // åŒæ­¥å…¨å±€çŠ¶æ€
  const app = getApp();
  app.globalData.tabBar = { selected: 0 };
}
```

## ğŸ“± äº¤äº’ä½“éªŒ

### ç‚¹å‡»è¡Œä¸º
1. **ç‚¹å‡»æ£€æµ‹**ï¼šé€šè¿‡`data-index`è·å–ç›®æ ‡é¡µé¢ç´¢å¼•
2. **é¡µé¢è·³è½¬**ï¼šä½¿ç”¨`wx.switchTab`è¿›è¡Œé¡µé¢åˆ‡æ¢
3. **çŠ¶æ€æ›´æ–°**ï¼šè·³è½¬æˆåŠŸåæ›´æ–°é€‰ä¸­çŠ¶æ€
4. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯æ—¥å¿—è®°å½•

### ç”¨æˆ·åé¦ˆ
- âœ¨ **å³æ—¶å“åº”**ï¼šç‚¹å‡»ç«‹å³æ˜¾ç¤ºé€‰ä¸­çŠ¶æ€
- ğŸ”„ **çŠ¶æ€åŒæ­¥**ï¼šä¸é¡µé¢çŠ¶æ€å®æ—¶ä¿æŒä¸€è‡´
- ğŸ“ **è°ƒè¯•å‹å¥½**ï¼šè¯¦ç»†çš„æ§åˆ¶å°æ—¥å¿—è¾“å‡º
- âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šè½»é‡çº§å®ç°ï¼Œå“åº”è¿…é€Ÿ

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹é¡µé¢é…ç½®
å¦‚éœ€æ·»åŠ æˆ–ä¿®æ”¹å¯¼èˆªé¡µé¢ï¼Œè¯·æ›´æ–°`index.js`ä¸­çš„`list`æ•°ç»„ï¼š

```javascript
list: [
  {
    pagePath: "pages/yourpage/yourpage",  // é¡µé¢è·¯å¾„
    text: "ä½ çš„é¡µé¢"                      // æ˜¾ç¤ºæ–‡æœ¬
  }
]
```

### ä¿®æ”¹æ ·å¼ä¸»é¢˜
å¦‚éœ€è‡ªå®šä¹‰æ ·å¼ï¼Œè¯·ç¼–è¾‘`index.wxss`æ–‡ä»¶ï¼š

```css
/* ä¿®æ”¹èƒŒæ™¯è‰² */
.tab-bar {
  background: #your-color;
}

/* ä¿®æ”¹é€‰ä¸­é¢œè‰² */
.tab-bar-item-text.selected {
  color: #your-selected-color;
}

/* ä¿®æ”¹å­—ä½“å¤§å° */
.tab-bar-item-text {
  font-size: your-size;
}
```

## ğŸ” è°ƒè¯•ä¿¡æ¯

ç»„ä»¶æä¾›è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—ï¼š

```javascript
console.log('[TabBar] switchTabè¢«è°ƒç”¨', e);
console.log('[TabBar] ç‚¹å‡»çš„index:', index);
console.log('[TabBar] å‡†å¤‡è·³è½¬åˆ°:', url);
console.log('[TabBar] è·³è½¬æˆåŠŸ');
console.error('[TabBar] è·³è½¬å¤±è´¥:', err);
```

## ğŸ“‹ æ³¨æ„äº‹é¡¹

1. **é¡µé¢è·¯å¾„**ï¼šç¡®ä¿`list`ä¸­çš„`pagePath`ä¸å®é™…é¡µé¢è·¯å¾„ä¸€è‡´
2. **çŠ¶æ€åŒæ­¥**ï¼šæ¯ä¸ªTabBaré¡µé¢éƒ½éœ€è¦åœ¨`onShow`ä¸­æ›´æ–°çŠ¶æ€
3. **å…¨å±€çŠ¶æ€**ï¼šå»ºè®®ä½¿ç”¨`app.globalData`ç»´æŠ¤TabBarçŠ¶æ€
4. **å®‰å…¨åŒºåŸŸ**ï¼šç»„ä»¶å·²é€‚é…iPhoneç­‰è®¾å¤‡çš„å®‰å…¨åŒºåŸŸ

## ğŸ¯ æ€§èƒ½ç‰¹ç‚¹

- **è½»é‡åŒ–**ï¼šæœ€å°åŒ–ä»£ç ä½“ç§¯ï¼Œå¿«é€ŸåŠ è½½
- **é«˜æ•ˆæ¸²æŸ“**ï¼šä½¿ç”¨CSSè¿‡æ¸¡è€ŒéJSåŠ¨ç”»
- **å†…å­˜å‹å¥½**ï¼šæ— å¤æ‚çŠ¶æ€ç®¡ç†ï¼Œå†…å­˜å ç”¨ä½
- **å…¼å®¹æ€§å¼º**ï¼šæ”¯æŒå„ç§å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬

## ğŸ“„ è®¸å¯è¯

æœ¬ç»„ä»¶æ˜¯UnionLinkç¤¾äº¤åœˆå°ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œéµå¾ªé¡¹ç›®æ•´ä½“è®¸å¯è¯ã€‚

---

**å¼€å‘å›¢é˜Ÿ**ï¼šUnionLink Team  
**æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ  
**ç‰ˆæœ¬**ï¼šv1.0.0 